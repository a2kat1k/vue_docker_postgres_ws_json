<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Заметочки</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <!--
  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-firestore.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyD-c_p5izZqh5uDBIzq5-i_QBJt-OD4qNI",
      authDomain: "notes-a2kat.firebaseapp.com",
      databaseURL: "https://notes-a2kat.firebaseio.com",
      projectId: "notes-a2kat",
      storageBucket: "notes-a2kat.appspot.com",
      messagingSenderId: "1021439021079"
    };
    firebase.initializeApp(config);
    var db = firebase.firestore();
    db.collection("notes").add({
      first: "Ada",
      last: "Lovelace",
      born: 1815
    }).then(function (docRef) {
      console.log("Document written with ID: ", docRef.id);
    }).catch(function (error) {
      console.error("Error adding document: ", error);
    });

    db.collection("notes").get().then(function (querySnapshot) {
      querySnapshot.forEach(function (doc) {
        // doc.data() is never undefined for query doc snapshots
        console.log(doc.id, " => ", doc.data());
      });
    });
  </script>
-->
  <script>
    String.prototype.capitalize = function () { return this.charAt(0).toUpperCase() + this.slice(1); }
    var options = { weekday: 'long', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' };
  </script>

</head>

<body>
  <div id="app">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="panel panel-primary">
            <div>
              <div class="panel-body">
                <ul class="chat">
                  <li class="left clearfix" v-for="(note,index) in notes" :key="note.id">
                    <span class="chat-img pull-left">
                      <img :src="avatar" alt="User Avatar" class="img-circle" />
                    </span>
                    <div class="chat-body clearfix">
                      <div class="header">
                        <small class="pull-right" style="color:white;">
                          <span class="glyphicon glyphicon-time"></span> {{ note.commentdate }}
                          <span class="glyphicon glyphicon-remove" v-on:click="delete_note(index)" style="color:#ff00007d;margin-left: 7px;"></span>
                        </small>
                      </div>
                      <div class="bubble me">
                        {{ note.note }}
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="panel-footer">
                <input v-model="message" @keydown.enter="save" :disabled="!isReady" class="form-control" style="width:100%" placeholder="новая заметка..."
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <h2 class="w3-center">Слушай {{first_name}}, не твои ли это фото?</h2>
    <!--<div class="w3-content w3-display-container">-->
    <div id="gallery" style="text-align: center;">
      <img class="mySlides" :src="image_path" v-for="(image_path,index) in images" style="height:100%;display:none;" :ref="'image-'+index">
      <button class="w3-button w3-black w3-display-left" v-on:click="move(-1)">&#10094;</button>
      <button class="w3-button w3-black w3-display-right" v-on:click="move(1)">&#10095;</button>
    </div>
  </div>
  <script>
    function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
    }

  </script>

  <script src="client.js"></script>
</body>

</html>